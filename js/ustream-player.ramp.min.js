(self.webpackChunkustreamPlayer=self.webpackChunkustreamPlayer||[]).push([[772],{60584:function(t,e,i){"use strict";i.r(e),i.d(e,{warmUp:function(){return m}});var r=i(38294);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e,i,r,s,n,a){try{var o=t[n](a),h=o.value}catch(t){return void i(t)}o.done?e(h):Promise.resolve(h).then(r,s)}function h(t){return function(){var e=this,i=arguments;return new Promise((function(r,s){var n=t.apply(e,i);function a(t){o(n,r,s,a,h,"next",t)}function h(t){o(n,r,s,a,h,"throw",t)}a(void 0)}))}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var l=(0,i(31065).w)("multicast/rampClient");function u(t){var e=t.match(/(\w+)\.(\d+)/);if(null!==e)return e[2]}function d(t,e){var i,r=e.timeoutInMs,s=e.pingDelayInMs,n=function(t){if(Array.isArray(t))return t}(i=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=n[0],o=n.slice(1);return function(t,e){var i,r,s,n,a=e.timeoutInMs,o=(r=(i=t).urlPattern,s=i.hash,n=i.chunkId,r.replace("%",n).replace("%",s));return new Promise((function(e,i){var r=new XMLHttpRequest;function s(){var t="".concat(r.status," ").concat(r.statusText);return i(new Error(t))}return r.open("GET",o,!0),r.timeout=a,r.addEventListener("load",(function(){200===r.status?e(t):s()})),r.addEventListener("error",s),r.addEventListener("timeout",s),r.send()}))}(a,{timeoutInMs:r}).catch((function(){return 0===o.length?Promise.reject(new Error("ping failed")):new Promise((function(t,e){setTimeout((function(){d(o,{timeoutInMs:r,pingDelayInMs:s}).then(t).catch(e)}),s)}))}))}function p(t){return new Promise((function(e){var i={i_param:{verbose:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];l.debug("receiver interface log",e)},allowFallback:!1,onDone:function(t,i){return l.debug("receiverInterfaceDone",{obj:i,text:"".concat(t.interpretResponse(i),"\n").concat(t.interpretState(i))}),e()}},r_param:{host:"ustream.multicast-receiver-altitudecdn.net",maddr:"0",streamKey:u(t),multiStream:!0,verbose:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];l.debug("receiver log",e)},onDone:function(){l.debug("receiverDone")},onReady:function(t,e){e&&l.debug("receiverReady",e)},onPGReady:function(t,e){"success"===e.reason&&t.streamKey&&l.debug("receiverProgramGuideReady",e)}},o_param:null};return r.RcvrInterface.GetQueryParams(i),l.debug("Create receiver interface",i),new r.RcvrInterface(i.i_param,i.r_param,i.o_param)}))}function m(t,e){return f.apply(this,arguments)}function f(){return f=h(regeneratorRuntime.mark((function t(e,i){var r,s,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},s=n({timeoutInMs:1e3,pingDelayInMs:200},r||{}),t.next=4,p(e);case 4:if(0!==i.length){t.next=6;break}return t.abrupt("return",[]);case 6:return t.abrupt("return",d(i,s));case 7:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}},38294:function(t){(function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t){this.index=i.unique++;var e=t||{};this.verbose=i.Settings.verbose,this.boundListener=this.statusListener.bind(this),this.maddr=null,this.keyStoreUri=i.Settings.keyStoreUri,this.keyStoreKey=i.Settings.keyStoreKey,this.streamKey=i.Settings.streamKey,this.multiStream=i.Settings.multiStream,this.nPings=0,this.time0=0,this.lastState=-1,this.lastAction=null,this.lastReason=null,this.lastSegments=0,this.maxState=0,this.nRestarts=0,this.params=i.assign({},i.Params),this.params.multicastAddress=i.Settings.maddr,this.params.receiverKeyStore=null,this.options=i.assign({},i.Options),this.onStatus=e.onStatus,this.onStateChange=e.onStateChange,this.onReady=e.onReady,this.onError=e.onError,this.onPGReady=e.onPGReady,this.onDone=e.onDone,this.setParams(e)}(window.RampVersion||(window.RampVersion={}))["rampapi.js"]="$Id$ $Change$ $Revision$ $DateTime:20190611201631$",(window.RampVersion||(window.RampVersion={}))["keystore.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(t){var e,i,r=window.CryptoJS=r||function(t,e){var i={},r=i.lib={},s=function(){},n=r.Base={extend:function(t){s.prototype=this;var e=new s;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,i=t.words,r=this.sigBytes;if(t=t.sigBytes,this.clamp(),r%4)for(var s=0;s<t;s++)e[r+s>>>2]|=(i[s>>>2]>>>24-s%4*8&255)<<24-(r+s)%4*8;else if(65535<i.length)for(s=0;s<t;s+=4)e[r+s>>>2]=i[s>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=n.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i=[],r=0;r<e;r+=4)i.push(4294967296*t.random()|0);return new a.init(i,e)}}),o=i.enc={},h=o.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],r=0;r<t;r++){var s=e[r>>>2]>>>24-r%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(i,e/2)}},c=o.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],r=0;r<t;r++)i.push(String.fromCharCode(e[r>>>2]>>>24-r%4*8&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(i,e)}},l=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},u=r.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,r=i.words,s=i.sigBytes,n=this.blockSize,o=s/(4*n);if(e=(o=e?t.ceil(o):t.max((0|o)-this._minBufferSize,0))*n,s=t.min(4*e,s),e){for(var h=0;h<e;h+=n)this._doProcessBlock(r,h);h=r.splice(0,e),i.sigBytes-=s}return new a.init(h,s)},clone:function(){var t=n.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});r.Hasher=u.extend({cfg:n.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new d.HMAC.init(t,i).finalize(e)}}});var d=i.algo={};return i}(Math);i=(e=r).lib.WordArray,e.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,r=this._map;t.clamp(),t=[];for(var s=0;s<i;s+=3)for(var n=(e[s>>>2]>>>24-s%4*8&255)<<16|(e[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|e[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;4>a&&s+.75*a<i;a++)t.push(r.charAt(n>>>6*(3-a)&63));if(e=r.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,r=this._map;(s=r.charAt(64))&&-1!=(s=t.indexOf(s))&&(e=s);for(var s=[],n=0,a=0;a<e;a++)if(a%4){var o=r.indexOf(t.charAt(a-1))<<a%4*2,h=r.indexOf(t.charAt(a))>>>6-a%4*2;s[n>>>2]|=(o|h)<<24-n%4*8,n++}return i.create(s,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t){function e(t,e,i,r,s,n,a){return((t=t+(e&i|~e&r)+s+a)<<n|t>>>32-n)+e}function i(t,e,i,r,s,n,a){return((t=t+(e&r|i&~r)+s+a)<<n|t>>>32-n)+e}function s(t,e,i,r,s,n,a){return((t=t+(e^i^r)+s+a)<<n|t>>>32-n)+e}function n(t,e,i,r,s,n,a){return((t=t+(i^(e|~r))+s+a)<<n|t>>>32-n)+e}for(var a=r,o=(c=a.lib).WordArray,h=c.Hasher,c=a.algo,l=[],u=0;64>u;u++)l[u]=4294967296*t.abs(t.sin(u+1))|0;c=c.MD5=h.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,r){for(var a=0;16>a;a++){var o=t[h=r+a];t[h]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}a=this._hash.words;var h=t[r+0],c=(o=t[r+1],t[r+2]),u=t[r+3],d=t[r+4],p=t[r+5],m=t[r+6],f=t[r+7],g=t[r+8],v=t[r+9],y=t[r+10],S=t[r+11],b=t[r+12],P=t[r+13],I=t[r+14],w=t[r+15],R=e(R=a[0],k=a[1],D=a[2],E=a[3],h,7,l[0]),E=e(E,R,k,D,o,12,l[1]),D=e(D,E,R,k,c,17,l[2]),k=e(k,D,E,R,u,22,l[3]);R=e(R,k,D,E,d,7,l[4]),E=e(E,R,k,D,p,12,l[5]),D=e(D,E,R,k,m,17,l[6]),k=e(k,D,E,R,f,22,l[7]),R=e(R,k,D,E,g,7,l[8]),E=e(E,R,k,D,v,12,l[9]),D=e(D,E,R,k,y,17,l[10]),k=e(k,D,E,R,S,22,l[11]),R=e(R,k,D,E,b,7,l[12]),E=e(E,R,k,D,P,12,l[13]),D=e(D,E,R,k,I,17,l[14]),R=i(R,k=e(k,D,E,R,w,22,l[15]),D,E,o,5,l[16]),E=i(E,R,k,D,m,9,l[17]),D=i(D,E,R,k,S,14,l[18]),k=i(k,D,E,R,h,20,l[19]),R=i(R,k,D,E,p,5,l[20]),E=i(E,R,k,D,y,9,l[21]),D=i(D,E,R,k,w,14,l[22]),k=i(k,D,E,R,d,20,l[23]),R=i(R,k,D,E,v,5,l[24]),E=i(E,R,k,D,I,9,l[25]),D=i(D,E,R,k,u,14,l[26]),k=i(k,D,E,R,g,20,l[27]),R=i(R,k,D,E,P,5,l[28]),E=i(E,R,k,D,c,9,l[29]),D=i(D,E,R,k,f,14,l[30]),R=s(R,k=i(k,D,E,R,b,20,l[31]),D,E,p,4,l[32]),E=s(E,R,k,D,g,11,l[33]),D=s(D,E,R,k,S,16,l[34]),k=s(k,D,E,R,I,23,l[35]),R=s(R,k,D,E,o,4,l[36]),E=s(E,R,k,D,d,11,l[37]),D=s(D,E,R,k,f,16,l[38]),k=s(k,D,E,R,y,23,l[39]),R=s(R,k,D,E,P,4,l[40]),E=s(E,R,k,D,h,11,l[41]),D=s(D,E,R,k,u,16,l[42]),k=s(k,D,E,R,m,23,l[43]),R=s(R,k,D,E,v,4,l[44]),E=s(E,R,k,D,b,11,l[45]),D=s(D,E,R,k,w,16,l[46]),R=n(R,k=s(k,D,E,R,c,23,l[47]),D,E,h,6,l[48]),E=n(E,R,k,D,f,10,l[49]),D=n(D,E,R,k,I,15,l[50]),k=n(k,D,E,R,p,21,l[51]),R=n(R,k,D,E,b,6,l[52]),E=n(E,R,k,D,u,10,l[53]),D=n(D,E,R,k,y,15,l[54]),k=n(k,D,E,R,o,21,l[55]),R=n(R,k,D,E,g,6,l[56]),E=n(E,R,k,D,w,10,l[57]),D=n(D,E,R,k,m,15,l[58]),k=n(k,D,E,R,P,21,l[59]),R=n(R,k,D,E,d,6,l[60]),E=n(E,R,k,D,S,10,l[61]),D=n(D,E,R,k,c,15,l[62]),k=n(k,D,E,R,v,21,l[63]),a[0]=a[0]+R|0,a[1]=a[1]+k|0,a[2]=a[2]+D|0,a[3]=a[3]+E|0},_doFinalize:function(){var e=this._data,i=e.words,r=8*this._nDataBytes,s=8*e.sigBytes;i[s>>>5]|=128<<24-s%32;var n=t.floor(r/4294967296);for(i[15+(s+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),i[14+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(i.length+1),this._process(),i=(e=this._hash).words,r=0;4>r;r++)s=i[r],i[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);return e},clone:function(){var t=h.clone.call(this);return t._hash=this._hash.clone(),t}}),a.MD5=h._createHelper(c),a.HmacMD5=h._createHmacHelper(c)}(Math),function(){var t,e=r,i=(t=e.lib).Base,s=t.WordArray,n=(t=e.algo).EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=(o=this.cfg).hasher.create(),r=s.create(),n=r.words,a=o.keySize,o=o.iterations;n.length<a;){h&&i.update(h);var h=i.update(t).finalize(e);i.reset();for(var c=1;c<o;c++)h=i.finalize(h),i.reset();r.concat(h)}return r.sigBytes=4*a,r}});e.EvpKDF=function(t,e,i){return n.create(i).compute(t,e)}}(),r.lib.Cipher||function(t){var e=(m=r).lib,i=e.Base,s=e.WordArray,n=e.BufferedBlockAlgorithm,a=m.enc.Base64,o=m.algo.EvpKDF,h=e.Cipher=n.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,i,r){return("string"==typeof i?f:p).encrypt(t,e,i,r)},decrypt:function(e,i,r){return("string"==typeof i?f:p).decrypt(t,e,i,r)}}}});e.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=m.mode={},l=function(t,e,i){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var s=0;s<i;s++)t[e+s]^=r[s]},u=(e.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();u.Encryptor=u.extend({processBlock:function(t,e){var i=this._cipher,r=i.blockSize;l.call(this,t,e,r),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+r)}}),u.Decryptor=u.extend({processBlock:function(t,e){var i=this._cipher,r=i.blockSize,s=t.slice(e,e+r);i.decryptBlock(t,e),l.call(this,t,e,r),this._prevBlock=s}}),c=c.CBC=u,u=(m.pad={}).Pkcs7={pad:function(t,e){for(var i,r=(i=(i=4*e)-t.sigBytes%i)<<24|i<<16|i<<8|i,n=[],a=0;a<i;a+=4)n.push(r);i=s.create(n,i),t.concat(i)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=h.extend({cfg:h.cfg.extend({mode:c,padding:u}),reset:function(){h.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=e.createEncryptor;else i=e.createDecryptor,this._minBufferSize=1;this._mode=i.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var d=e.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),p=(c=(m.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?s.create([1398893684,1701076831]).concat(t).concat(e):e).toString(a)},parse:function(t){var e=(t=a.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var i=s.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return d.create({ciphertext:t,salt:i})}},e.SerializableCipher=i.extend({cfg:i.extend({format:c}),encrypt:function(t,e,i,r){r=this.cfg.extend(r);var s=t.createEncryptor(i,r);return e=s.finalize(e),s=s.cfg,d.create({ciphertext:e,key:i,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,i,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(i,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),m=(m.kdf={}).OpenSSL={execute:function(t,e,i,r){return r||(r=s.random(8)),t=o.create({keySize:e+i}).compute(t,r),i=s.create(t.words.slice(e),4*i),t.sigBytes=4*e,d.create({key:t,iv:i,salt:r})}},f=e.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:m}),encrypt:function(t,e,i,r){return i=(r=this.cfg.extend(r)).kdf.execute(i,t.keySize,t.ivSize),r.iv=i.iv,(t=p.encrypt.call(this,t,e,i.key,r)).mixIn(i),t},decrypt:function(t,e,i,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),i=r.kdf.execute(i,t.keySize,t.ivSize,e.salt),r.iv=i.iv,p.decrypt.call(this,t,e,i.key,r)}})}(),function(){for(var t=r,e=t.lib.BlockCipher,i=t.algo,s=[],n=[],a=[],o=[],h=[],c=[],l=[],u=[],d=[],p=[],m=[],f=0;256>f;f++)m[f]=128>f?f<<1:f<<1^283;var g=0,v=0;for(f=0;256>f;f++){var y=(y=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&y^99;s[g]=y,n[y]=g;var S=m[g],b=m[S],P=m[b],I=257*m[y]^16843008*y;a[g]=I<<24|I>>>8,o[g]=I<<16|I>>>16,h[g]=I<<8|I>>>24,c[g]=I,I=16843009*P^65537*b^257*S^16843008*g,l[y]=I<<24|I>>>8,u[y]=I<<16|I>>>16,d[y]=I<<8|I>>>24,p[y]=I,g?(g=S^m[m[m[P^S]]],v^=m[m[v]]):g=v=1}var w=[0,1,2,4,8,16,32,64,128,27,54];i=i.AES=e.extend({_doReset:function(){for(var t=(i=this._key).words,e=i.sigBytes/4,i=4*((this._nRounds=e+6)+1),r=this._keySchedule=[],n=0;n<i;n++)if(n<e)r[n]=t[n];else{var a=r[n-1];n%e?6<e&&4==n%e&&(a=s[a>>>24]<<24|s[a>>>16&255]<<16|s[a>>>8&255]<<8|s[255&a]):(a=s[(a=a<<8|a>>>24)>>>24]<<24|s[a>>>16&255]<<16|s[a>>>8&255]<<8|s[255&a],a^=w[n/e|0]<<24),r[n]=r[n-e]^a}for(t=this._invKeySchedule=[],e=0;e<i;e++)n=i-e,a=e%4?r[n]:r[n-4],t[e]=4>e||4>=n?a:l[s[a>>>24]]^u[s[a>>>16&255]]^d[s[a>>>8&255]]^p[s[255&a]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,o,h,c,s)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,l,u,d,p,n),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,r,s,n,a,o){for(var h=this._nRounds,c=t[e]^i[0],l=t[e+1]^i[1],u=t[e+2]^i[2],d=t[e+3]^i[3],p=4,m=1;m<h;m++){var f=r[c>>>24]^s[l>>>16&255]^n[u>>>8&255]^a[255&d]^i[p++],g=r[l>>>24]^s[u>>>16&255]^n[d>>>8&255]^a[255&c]^i[p++],v=r[u>>>24]^s[d>>>16&255]^n[c>>>8&255]^a[255&l]^i[p++];d=r[d>>>24]^s[c>>>16&255]^n[l>>>8&255]^a[255&u]^i[p++],c=f,l=g,u=v}f=(o[c>>>24]<<24|o[l>>>16&255]<<16|o[u>>>8&255]<<8|o[255&d])^i[p++],g=(o[l>>>24]<<24|o[u>>>16&255]<<16|o[d>>>8&255]<<8|o[255&c])^i[p++],v=(o[u>>>24]<<24|o[d>>>16&255]<<16|o[c>>>8&255]<<8|o[255&l])^i[p++],d=(o[d>>>24]<<24|o[c>>>16&255]<<16|o[l>>>8&255]<<8|o[255&u])^i[p++],t[e]=f,t[e+1]=g,t[e+2]=v,t[e+3]=d},keySize:8}),t.AES=e._createHelper(i)}();var s=t.KeyStoreObj;s||((s=t.KeyStoreObj=function(t,e){this.setUriKey(t,e),this.inlineKeyStore='\x3c!-- Remember to update keystore.aes.b64!! --\x3e\r\n<param name="receiverKeyStore1" value="MIIKbgIBAzCCCigGCSqGSIb3DQEHAaCCChkEggoVMIIKETCCBXYGCSqGSIb3DQEHAaCCBWcEggVjMIIFXzCCBVsGCyqGSIb3DQEMCgECoIIE+jCCBPYwKAYKKoZIhvcNAQwBAzAaBBQDOpLRdrTX171DUrMFAAl" />\r\n<param name="receiverKeyStore2" value="XwcEk0AICBAAEggTI34wIxzZZA9JtzNdAoB69VbEfrSzLtYsmwMY5LX7HIW1JbrD6KbZT7tXZBwm6ngmkzaxCx8rRFv9308I5TLxRq5IXQiFV4zI1AXhAjDuVhauXV9M1vnytAgxgG/QKNMkCX4Bn3ZwkACzSjp" />\r\n<param name="receiverKeyStore3" value="auWrepxtfTfMrkhplHoSDEW92Eu/WGlQh1Rrfs+i7q8JcP/vNCRX2VL62Cf2arOvs0f3pD/AefMF94lKKvvQhEwaTRKKNJUlAjTqgidr7vr2eX36VvLljQf/3by81akD9T+NUkLYomuBhz40p+UgZV0mGZS5WkC" />\r\n<param name="receiverKeyStore4" value="uYwuidmxmldisddt5y4VM9zcQHkRQ4hC8BzIl2ZWpOs9GNk5xBbN18M1XtviFqQJgS11Qbq/tCWyRlzuEu/SdDk4Z4tU6RLfw2uq78SR3Ym44Gc/8yQHbymR+ZV8Qut19KuuVzy90Xy8tFV9LBPgwthz5ArnQMs" />\r\n<param name="receiverKeyStore5" value="cEGcLrgvcxamv9g7RfwPbqACIYxmkJmNXMZcLExvr7c5XCGeDHXTS47m3OgDNcRg3Y22AfqfVhJ/Dp+4MU2W3JV3YYAWggVkM0vqSP1mkU7eEdH6/W47Mspe4ygQxcfFcGmYuHpTvtDjQC7tvzl5C6yS2mENx6O" />\r\n<param name="receiverKeyStore6" value="xjbfqDSPO5RIJa+5jnr+rQu/ehTMM03X6dcWOKHyMhC3MpJhvjT9fiPMv1cpWDjf6z2HrhCP5K88Z6ZnDgGpx9JC91vYksC0Tx6a7CvyWkEv30hebRonGiZ0uVBDt7sRSEmjGdtYTDK1G9Cvf/mJXe5hja2qSHV" />\r\n<param name="receiverKeyStore7" value="J+5BrYTJ+kL1NQf2bKajN15Pxzy7GB9sHxSGrMVVqD8AHfOKl+WKyudi88I4uyxcEG9S5GIc+quopogOMIDM6VoZ71oRzyv8JMaAnufiD0tS1oDIjJ5zBW2JwRpG5YABPgDalVxQxywnHkp+VrviS3rfWlPUtF6" />\r\n<param name="receiverKeyStore8" value="c2lCrrNY6MdqQxH7LfDPZulljW4I85XsIV3b6eMvBDOMnadAeteNiRmMZFHeSM2fLXVwdlNBw57jQpb9ELKIm4TaM1J5jiUSql8qIbl2WbWp+m7RnMmPYXMrQ23eszw14pz6HIDQb4VWmrfzNA6jEW+F1NHgE2U" />\r\n<param name="receiverKeyStore9" value="47AYaG3XQPD3vzxzNhepMvR+ScqduU/aDnd1MPlLz8nXx8oinLnZlnTqNrrlOr/zu5KAmSsepAPIpCzZcY/ou8j3DvKDx11GaSH84E5BzLsoXoyAIgDtOrEc9cDY9SVqPP5ByDVWJZ6ZP+GuRZGFJAmdWegb/ww" />\r\n<param name="receiverKeyStore10" value="CTn6a4y5IIUehfppg0+/9rKf8Bc+WGPMTrxlEeM+Lr/KXkPWKrFrQLOIeqNsKeY+hoG568knDpDW0jAxSJ5kE/xPYTe7O3JRWnjvdW22vj6iVaLASv7SHFOwcfsyX9hMr7GftpLoaU8Jbf2YrFXljInGGgUsd+h" />\r\n<param name="receiverKeyStore11" value="bXMB6nc2HrXbm3wumsbNhhvl3xCevf9tvsp/Ri1FtRf442PJmtP3hKRzgYfScjxGoK37mdIiMvJwrCfJtUEi7s31yzSkfWNia/hN0Gb9wlHD0lSd8exoWJBIa8au05ZMIE2gRrJo2I66nFdkbzcNWSEphxx4hNL" />\r\n<param name="receiverKeyStore12" value="u3GCUcH6dqRxYxEFg9RZaJejuJaJsqTzOkIrUvd+fC7l9uo+bjqms4FafIoMU4wKQYJKoZIhvcNAQkUMRweGgBrAGUAeQAtAHIAZQBjAGUAaQB2AGUAcgAxMCEGCSqGSIb3DQEJFTEUBBJUaW1lIDE0NTYyNTUx" />\r\n<param name="receiverKeyStore13" value="NDk1NTYwggSTBgkqhkiG9w0BBwagggSEMIIEgAIBADCCBHkGCSqGSIb3DQEHATAoBgoqhkiG9w0BDAEGMBoEFPOEz7CC8XxoEj1rbZ2srMshjoj8AgIEAICCBEAsRu4btn+yT985zQ3zeJmOYJUePjMHYo/UgdU" />\r\n<param name="receiverKeyStore14" value="kvbJ5zDOP6yJW+lGolpW2zFIAG7keVodJ7R+oh7GFAcZmzz4ioiD8wDxB1rr2aGfszgfY2EwAdRdqJXp1Ew8u8Wi33vPNyPNv1H+0GPER5jZU0vKS0cL317oFS2G6PNdqfnkdvanJP1UmKCMOkO3jf44OHu0dgA" />\r\n<param name="receiverKeyStore15" value="OVLSMW2NhcVi/3Yi9QHE8oytc6k2ZYPbCKzIZ2NUranGnH47DzNQwH/7aRbMx8fXpZW6/KYO9iVeTyGPnTzZhT/mtVgKYtOcdDAqTeMmL1+DWor7ON4WneGqzFQ3N7LL0ZtuMEgQdHoGvSZAYm6Z9deWRj7+fH8" />\r\n<param name="receiverKeyStore16" value="ln/Grd6DTHj2x8TggS2vtyTSD46xu/rE8avzUUG9EFC1kKQZMgi30sEW93G5bOVxZRLuivs/FSfVCfvCJe20UayECpU2OqZ2mIZcJM7ai7O4o23/FltjeK4hZpjQPrzQpDlPymFtCdFNvBDXgHFF/nMcB4j63Fx" />\r\n<param name="receiverKeyStore17" value="L2dC+F5KC8GizSPF8otdLM9fl1ifA2JEiA+uxxCZTKib27VmuvOEs68CKkNRIIovR8C9mNFKy5ezhutGl8iXngkpRO7oD9d7Xc0IF9T4YvAd4RkYPawGRMZ8HIEVH61pXw0G6Xqn2smVZxM3k0gsD1ssqOqCDUx" />\r\n<param name="receiverKeyStore18" value="rSB94GMnE2EieE6cVyFFz4swt6FFBeGgyFaIiWkLkcFJCmFQZoRzkCO+bPaAxall4uuJGgRsh+rNq1d3e7MVTuT1xSFTq4N837v1jeMLGWA7N75/Lnl7CosyuMZF3i+yN4aPMEOCeS83Ki561oG7yVvbxEYgK7C" />\r\n<param name="receiverKeyStore19" value="Kl0HOsr44DYNZ3hvzlwh8WUb+u7xA7TQ/yAQ5UGjKChNiyyo/OBHpxN91RlVDYrUj+5Kq7KNnKzmLkwlh7F46NVDWbHDqHlBfJKUILbthd3O/LpmazRQVbX4/Y5o9KY28azVG2OZeqr5swTn5nWMbFQlUMuS3vS" />\r\n<param name="receiverKeyStore20" value="MCOANPqAK4cglnIHiX6SpEcRqMR8+RKvkgK3TEoN45KOh98+eK/2rSRTH5GWz9F0/C3VbPBXf/Db5uHxBAfOihnodp78DXFahIvYUf1pYaUuUaw5g0KE3RUBqVSU4fkG6KWcO8+bmBZkRc29AhmAj3iIL7I0l98" />\r\n<param name="receiverKeyStore21" value="XmHcskpPCE32nQ7A0kpNZ1G+ogaxbLheQFF5FSMrGkyCiWJta+xcrhRQMJWndhesrH0XA5HVSXa80vEU4ZKaTUt2njINsvx7xXotBq/Z3JkPpP0c0oM0x2vHkSXGKFcMWI/CIt28jZZI7Gum0g2pRGHJK2qsNCi" />\r\n<param name="receiverKeyStore22" value="k66nq/Mj6ThwLRJwIYfSAfnM9En57FRTXGm9xna2mczjrSiZn18DAJ6tgLVf5Cap0LOM9V1z+5tjE0AM+Eb01ZHemqpgBowWU0pP23kjDjQJuoEyHQHwrBkEjYCgDpd4XkeXcQ6ZbFF6ULDA9MCEwCQYFKw4DAh" />\r\n<param name="receiverKeyStore23" value="oFAAQU5e0Kc96L5kZW9UPpRMKhJtuX0RYEFIzuNUevzDRHBl9LRnGaBbQUhKNRAgIEAA__" />\r\n',this.inlineResponse="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",this.keyStore=null,this.onSuccess=null,this.onFailure=null,this.reason=0,this.log=null}).prototype={setUriKey:function(t,e){this.URI="string"==typeof t?t:"//"+window.location.host+window.location.pathname.replace(/\/[^\/]*$/,"/")+"keystore.aes.b64.txt",this.key="string"==typeof e&&e&&"default"!=e?e:"DEADBEEFCAFEBABEDEADBEEFCAFEBABE"},load:function(t,e,i){var r,s;return this.log=i,this.onSuccess=t,this.onFailure=e,this.URI&&"default"!=this.URI&&"inline"!=this.URI?((r=new XMLHttpRequest).addEventListener("readystatechange",this.listener.bind(this),!1),r.open("GET",this.URI,!0),r.url=this.URI,r.send(null)):s=this.handler(this.inlineResponse),s},listener:function(t){var e=t.target;return 4==e.readyState&&(200==e.status?this.handler(e.response):this.errorListener(e,t)),!1},handler:function(t){try{var e=r.enc.Hex.parse(this.key),i=r.enc.Hex.parse("00000000000000000000000000000000"),s=r.enc.Base64.parse(t.replace(/[\r\n]/g,"")),n=r.AES.decrypt({ciphertext:s,salt:""},e,{iv:i});this.keyStore=String(n.toString(r.enc.Utf8))}catch(t){this.keyStore=""}return this.keyStore.indexOf("receiverKeyStore1")>=0?(this.reason=0,this.log&&this.log("keyStore loaded and valid"),this.onSuccess&&this.onSuccess(this)):(this.reason=2,this.log&&this.log("keyStore loaded but was invalid"),this.onFailure&&this.onFailure(this)),!this.reason},errorListener:function(t,e){this.reason=1,this.status=t.status,this.log&&this.log("keyStore: "+t.url+" "+(0==t.status?"connection refused":t.statusText)),this.onFailure&&this.onFailure(this)}})}(this),(window.RampVersion||(window.RampVersion={}))["rcvr.js"]="$Id$ $Change$ $Revision$ $DateTime$",i.unique=0,i.useProtocol="https:"==location.protocol?"https:":"http:",i.Callbacks={onStatus:null,onStateChange:null,onReady:null,onError:null,onPGReady:null,onDone:null},i.Settings={protocol:i.useProtocol,host:"https:"==i.useProtocol?"ramp-demo.multicast-receiver-altitudecdn.net":"127.0.0.1",port:"https:"==i.useProtocol?12350:12345,verbose:!1,maddr:"-1",keyStoreUri:"default",keyStoreKey:"default",streamKey:"",multiStream:!1},i.Params={multicastAddress:"0",senderSubjectDNSuffix:"OU=Ramp Multicast Engine Portal,O=Ramp Holdings Inc,L=Boston,ST=MA,C=US",diagnosticsServer:"use_sender:18000",diagnosticsIntervalMs:15e3,bufferMs:1e3,nativeMode:!1,dvrDurationMs:9e5,dontOutputDiscontinuitySequence:!1,resetDvrOnStreamSwap:!0,maintainTimeline:!1},i.Options={minSegments:3,ignoreReady:!1,monitorStatus:!1,pingTimeMs:1e3,nSegmentPings:30,maxSegmentTimeMs:0,maxTime0Ms:5e3,maxTime1Ms:15e3,nStartPings:1,maxStartTimeMs:0,nRunPings:2,maxRunTimeMs:0,nFailPings:5,maxFailTimeMs:0,nInitPings:2,maxInitTimeMs:0,restartTries:1,timeoutMs:0},i.assign=function(){var t,e,i=arguments[0];for(t=1;t<arguments.length;t++)for(e in arguments[t])i[e]=arguments[t][e];return i},i.prototype={setParams:function(t,r){var s,n=t||{},a=null==this.params.receiverKeyStore;(a||void 0!==n.verbose&&n.verbose!==this.verbose)&&("function"==typeof n.verbose?(this.verbose=!0,this.logger=n.verbose):(this.verbose=!!n.verbose,this.logger=console.log.bind(console))),(a||void 0!==n.protocol&&n.protocol!=this.protocol||void 0!==n.host&&n.host!==this.host||void 0!==n.port&&n.port!==this.port)&&(n.protocol?this.protocol=n.protocol:void 0===n.protocol&&this.protocol||(this.protocol=i.Settings.protocol),n.host?this.host=n.host:void 0===n.host&&this.host||(this.host=i.Settings.host),n.port?this.port=n.port:void 0===n.port&&this.port||(this.port=i.Settings.port),this.url=(this.host.match(/^(?:https?):\/\//)?"":this.protocol+"//")+this.host+":"+this.port),(a||"streamKey"in n&&n.streamKey!==this.streamKey)&&(this.streamKey=n.streamKey,r=!a),(a||"multiStream"in n&&n.multiStream!==this.multiStream)&&(this.multiStream=n.multiStream,r=!a);var o=[0,0,0];for(s in n)if(s in i.Callbacks)n[s]!==this[s]&&(this[s]="function"==typeof n[s]?n[s]:i.Callbacks[s],o[2]++);else if(s in i.Params){if(n[s]!==this.params[s])switch(e(i.Params[s])){case"boolean":this.params[s]=null!=n[s]?!!n[s]:i.Params[s],o[0]++;break;case"number":this.params[s]="number"==typeof n[s]?n[s]:i.Params[s],o[0]++;break;case"string":this.params[s]=n[s]||i.Params[s],o[0]++}}else if(s in i.Options&&n[s]!==this.options[s])switch(e(i.Options[s])){case"boolean":this.options[s]=null!=n[s]?!!n[s]:i.Options[s],"monitorStatus"!=s||a||this.statusUpdate(this.options[s]),o[1]++;break;case"number":this.options[s]="number"==typeof n[s]?n[s]:i.Options[s],o[1]++;break;case"string":this.options[s]=n[s]||i.Options[s],o[1]++}if(null==this.maddr||"maddr"in n||"multicastAddress"in n){var h=("number"==typeof n.maddr?n.maddr+"":n.maddr)||("number"==typeof n.multicastAddress?n.multicastAddress+"":n.multicastAddress)||i.Settings.maddr;h!=this.maddr&&(null!=this.maddr&&(r=!0),this.setMaddr(h))}return a||"keyStoreUri"in n&&n.keyStoreUri!=this.keyStoreUri||"keyStoreKey"in n&&n.keyStoreKey!=this.keyStoreKey?(this.setKeyStore(n.keyStoreUri||i.Settings.keyStoreUri,n.keyStoreKey||i.Settings.keyStoreKey),r=!1):o[0]>0&&(r=!0),r&&this.start(!0),!!r},setMaddr:function(t){this.maddr=this.params.multicastAddress="",this.maxState=0,this.nPings=0,"0"==t||0===t?(this.maddrStr="",this.maddr="0"):"string"!=typeof t||"-1"==t?this.maddr=this.maddrStr="":(this.maddrStr="maddr="+t+"&",this.maddr=this.params.multicastAddress=t)},setKeyStore:function(t,e){return this.keyStore?this.keyStore.setUriKey(t,e):this.keyStore=new window.KeyStoreObj(t,e),this.keyStore.load(this.keyStoreSuccess.bind(this),this.keyStoreError.bind(this),this.verbose&&this.logger)},keyStoreSuccess:function(t){this.params.receiverKeyStore=t.keyStore,this.start()},keyStoreError:function(){this.verbose&&this.logger("Receiver["+this.index+"]: failed to load key store");var t={state:0,action:"fail",reason:"keystore"};this.obj=t,this.onStateChange&&this.onStateChange(this,t),this.onError&&this.onError(this,t),this.onDone&&this.onDone(this,t)},getAddressEntry:function(t){if(this.maddrStr){var e,i=t&&t.addresses||{};for(e in i)if(e)break;return i[e]}},getStatus:function(t,e,i,r){var s="string"==typeof r?r?"maddr="+r+"&":"":this.maddrStr,n=new XMLHttpRequest;return n.addEventListener("load",this.boundListener,!1),n.addEventListener("error",this.boundListener,!1),n.addEventListener("abort",this.boundListener,!1),n.addEventListener("timeout",this.boundListener,!1),n.open("get",this.url+"/rme/status?"+s+"_="+Date.now(),!0),n.timeout=this.options.timeoutMs,n.data={onDone:t,onSuccess:e,onFailure:i},n.send(null),!1},getProgramGuide:function(t){var e=new XMLHttpRequest;return e.addEventListener("load",this.boundListener,!1),e.addEventListener("error",this.boundListener,!1),e.addEventListener("abort",this.boundListener,!1),e.addEventListener("timeout",this.boundListener,!1),e.open("get",this.url+"/rme/programGuide?_="+Date.now(),!0),e.timeout=this.options.timeoutMs,e.data={onDone:t},e.send(null),!1},programGuideListener:function(t,e){this.programGuide=e,window.location.search.indexOf("testPG")>0&&(e&&e.programs?e.programs=i.testProgramGuide.programs.concat(e.programs):this.programGuide=e=i.testProgramGuide);var r={state:5,action:"guide",reason:"load"==t?"success":"fail",type:t,resp:e};r.reason=e?e.programs?e.programs.length?"success":"empty":"config":"receiver",this.obj=r,this.onStateChange&&this.onStateChange(this,r),this.lastState=r.state,this.lastAction=r.action,this.lastReason=r.reason,this.onPGReady&&this.onPGReady(this,r),this.streamKey&&"success"==r.reason?this.pgh=new i.ProgramGuideHandler(this,0):("config"!=r.reason&&"receiver"!=r.reason||this.onError&&this.onError(this,r),this.onDone&&this.onDone(this,r))},programGuideFinal:function(t){if(delete this.pgh,t)this.setMaddr(t),this.start(!0);else{var e={state:5,action:"guide",reason:"program"};this.onError&&this.onError(this,e),this.onDone&&this.onDone(this,e)}},sendStart:function(t){this.lastState=2;var e=new XMLHttpRequest;e.addEventListener("load",this.boundListener,!1),e.addEventListener("error",this.boundListener,!1),e.addEventListener("abort",this.boundListener,!1),e.addEventListener("timeout",this.boundListener,!1),e.open("post",this.url+"/rme/start",!0),e.timeout=this.options.timeoutMs,e.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),e.data={wasStart:!0,onDone:t};var i,r={};for(i in this.params)r[i]=this.params[i],"number"==typeof r[i]&&(r[i]+="");return e.send(JSON.stringify(r)),!1},statusListener:function(t){var e,i=t.target,r=i.data;if("load"==t.type){try{e=JSON.parse(i.response)}catch(t){}e?r.onSuccess&&r.onSuccess(t.type,e):r.onFailure&&r.onFailure(t.type,i.response)}else r.onFailure&&r.onFailure(t.type,i.response);return r.onDone&&r.onDone(t.type,e||i.response),!1},startListener:function(t,e){this.getStatus(this.pingListener.bind(this))},start:function(t){if(this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=null),this.maddr)t&&this.params.multicastAddress&&"0"!=this.params.multicastAddress?this.sendStart(this.startListener.bind(this)):this.getStatus(this.pingListener.bind(this));else{var e={state:0,action:"fail",reason:"maddr"};this.obj=e,this.onStateChange&&this.onStateChange(this,e),this.onError&&this.onError(this,e),this.onDone&&this.onDone(this,e)}},pingListener:function(t,i){this.nPings++;var r=Date.now()-this.time0,s={state:0,action:null,reason:null,addrEntry:this.getAddressEntry(i),resp:i};switch(this.onStatus&&this.onStatus(this,{type:t,resp:i,addrEntry:s.addrEntry}),"load"==t&&"object"==e(i)?"RME Running"==i.result?s.addrEntry?(s.addrEntry.readyForPlayer||this.options.ignoreReady)&&s.addrEntry.segmentsInPlaylist>=this.options.minSegments?(s.state=4,s.action=this.options.monitorStatus?"ping":"stop",s.reason="success",s.state!=this.lastState&&(s.url=s.addrEntry.multicastUrl,this.obj=s,this.onReady&&this.onReady(this,s.addrEntry.multicastUrl,s.addrEntry.format),this.nPings=0,this.time0=Date.now(),r=0,this.nRestarts=0,this.sendReady=!1)):(s.state=3,s.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),0==s.addrEntry.totalBytesReceived&&this.options.maxTime0Ms>0&&r>=this.options.maxTime0Ms?(s.action="fail",s.reason="maxTime0"):0==s.addrEntry.segmentsInPlaylist&&this.options.maxTime1Ms>0&&r>=this.options.maxTime1Ms?(s.action="fail",s.reason="maxTime1"):this.options.nSegmentPings>0&&this.nPings>=this.options.nSegmentPings||this.options.maxSegmentTimeMs>0&&r>=this.options.maxSegmentTimeMs?(s.action="fail",s.reason="segments"):(s.action="ping",s.reason="segments")):this.maddrStr?(s.state=2,s.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),s.state>this.maxState?(s.action="start",s.reason=s.state>this.maxState?"first":"restart"):this.options.nStartPings>0&&this.nPings>=this.options.nStartPings||this.options.maxStartTimeMs>0&&r>=this.options.maxStartTimeMs?(s.action="fail",s.reason="start"):(s.action="ping",s.reason="start")):(s.state=5,s.action="guide",s.reason="guide"):(s.state=1,s.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),s.reason="run",this.options.nRunPings>0&&this.nPings>=this.options.nRunPings||this.options.maxRunTimeMs>0&&r>=this.options.maxRunTimeMs?s.action="fail":s.action="ping"):(s.state=0,s.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),0==this.maxState&&(this.options.nInitPings>0&&this.nPings>=this.options.nInitPings||this.options.maxInitTimeMs>0&&r>=this.options.maxInitTimeMs)||this.maxState>0&&(this.options.nFailPings>0&&this.nPings>=this.options.nFailPings||this.options.maxFailTimeMs>0&&r>=this.options.maxFailTimeMs)?(s.action="fail",s.reason=(0==this.maxState?"init ":"latent ")+t):(s.action="ping",s.reason="response")),(s.state!=this.lastState||s.action!=this.lastAction||s.reason!=this.lastReason||"segments"==s.reason&&s.addrEntry.segmentsInPlaylist!=this.lastSegments)&&(this.obj=s,this.onStateChange&&this.onStateChange(this,s),this.lastState=s.state,this.lastAction=s.action,this.lastReason=s.reason,"segments"==s.reason&&(this.lastSegments=s.addrEntry.segmentsInPlaylist),s.state>this.maxState&&(this.maxState=s.state),4==s.state&&"ping"==s.action&&this.onDone&&this.onDone(this,s)),"fail"==s.action&&s.state>1&&this.nRestarts<this.options.restartTries&&(this.nRestarts++,s.action="start",this.obj=s,this.onStateChange&&this.onStateChange(this,s),this.lastAction=s.action),this.verbose&&this.logger("Receiver["+this.index+"]: state:"+s.state+" action:"+s.action+" reason:"+s.reason,s.addrEntry?s.addrEntry.totalBytesReceived+" bytes, "+s.addrEntry.segmentsInPlaylist+" segments":""),s.action){case"ping":this.pingTimer=setTimeout(this.start.bind(this),this.options.pingTimeMs);break;case"start":this.sendStart(this.startListener.bind(this));break;case"guide":this.getProgramGuide(this.programGuideListener.bind(this));break;case"fail":if(!this.maddrStr){this.programGuideListener();break}this.obj=s,this.onError&&this.onError(this,s);default:this.onDone&&this.onDone(this,s)}return!1},statusUpdate:function(t){return this.options.monitorStatus=void 0===t?!this.options.monitorStatus:"boolean"==typeof t?t:this.options.monitorStatus,!this.pingTimer&&this.options.monitorStatus&&(this.pingTimer=setTimeout(this.start.bind(this),this.options.pingTimeMs)),this.options.monitorStatus},fullStatus:function(t,e,i){this.getStatus(t,e,i,"")},interpretResponse:function(t){var e;if(t&&t.state>=0&&t.state<i.states.length&&(e=(e=i.states[t.state])[t.action]&&e[t.action][t.reason.replace(/ .*/,"")]||"",3==t.state&&e.indexOf("SEG")>=0)){var r=e.split("SEG");e=r[0]+t.addrEntry.segmentsInPlaylist+r[1]+this.options.minSegments+r[2]}return e}},i.states=[{core:"not detected",fail:{keystore:"failed to load keystore",maddr:"did not attempt to detect receiver",init:"failed to detect receiver during initial attempt",latent:"failed to detect receiver after previous detection",other:"failed to detect receiver"},ping:{response:"receiver was not detected on this try"}},{core:"detected but not running",fail:{run:"receiver was detected but is not running"},ping:{run:"receiver was detected but is not yet running"}},{core:"running but not started",fail:{start:"receiver has failed to start"},start:{first:"starting the receiver for the first time",restart:"restarting the receiver",start:"restarting the receiver"},ping:{start:"starting the receiver"}},{core:"started but not ready",fail:{segments:"receiver did not receive enough segments within supplied limits",maxTime0:"receiver did not receive any bytes within supplied limits",maxTime1:"receiver did not receive any segments within supplied limits"},start:{segments:"receiver has not received enough segments within supplied limits, restarting",maxTime0:"receiver has not received any bytes within supplied limits, restarting",maxTime1:"receiver has not received any segments within supplied limits, restarting"},ping:{segments:"receiver has received SEG out of SEG required segments"}},{core:"ready",ping:{success:"receiver is ready, monitoring status"},stop:{success:"receiver is ready, monitoring has stopped"}},{core:"program guide",guide:{guide:"receiver is checking for a program guide",fail:"receiver has failed to supply a program guide",success:"receiver has supplied a program guide",empty:"program guide contains no programs",config:"program guide feature is not configured",receiver:"no program guide, receiver was not detected",program:"no matching program was found"}}],i.testProgramGuide={multicastAddress:"239.11.0.1:12345/0",programs:[{guid:"test",multicastAddress:"239.55.0.20/64"},{guid:"test",multicastAddress:"239.55.0.10/64"},{guid:"test",multicastAddress:"239.55.0.1/64"},{guid:"test",multicastAddress:"239.11.22.33/64"}]},i.ProgramGuideHandler=function(t,e){this.rcvr=t,this.timeoutMs=e||0,this.maddr=[],this.instance=[],this.done=!1,this.expected=0,this.completed=0;var i,r,s=t.programGuide;if(s&&s.programs.length){for(r=s.programs,i=0;i<r.length;i++)(!0===t.streamKey||"true"===t.streamKey?"multicastAddress"in r[i]&&"!global"!=r[i].multicastAddress:0===r[i].programType?"triggerPattern"in r[i]&&r[i].triggerPattern.indexOf(t.streamKey)>=0:1===r[i].programType?"guid"in r[i]&&r[i].guid==t.streamKey:"guid"in r[i]&&r[i].guid==t.streamKey||"triggerRegExp"in r[i]&&r[i].triggerRegExp.indexOf(t.streamKey)>=0)&&"multicastAddress"in r[i]&&(0==this.maddr.length||t.multiStream)&&this.maddr.push(r[i].multicastAddress.replace(/\/\d*/,""));for(this.expected=this.maddr.length,i=0;i<this.maddr.length;i++)this.addInstance(t,this.maddr[i])}0==this.instance.length?setTimeout(this.final.bind(this),100):this.timeoutMs&&(this.timer=setTimeout(this.final.bind(this),this.timeoutMs))},i.ProgramGuideHandler.prototype={addInstance:function(t,e){var r={protocol:t.protocol,host:t.host,port:t.port,verbose:!!t.verbose&&(t.logger||t.verbose),maddr:e,keyStoreUri:t.keyStoreUri,keyStoreKey:t.keyStoreKey,multiStream:!1,streamKey:null,options:{}};i.assign(r.options,t.options),r.onDone=this.instanceDone.bind(this,this.instance.length),this.instance.push(new i(r))},instanceDone:function(t,e,i){this.timer&&(clearTimeout(this.timer),this.timer=null),this.completed++,this.instance[t]._done=!0,this.done||(4==i.state?this.final(t):this.completed>=this.expected?this.final():this.timeoutMs&&(this.timer=setTimeout(this.final.bind(this),this.timeoutMs)))},final:function(t){var e,i;for(this.done=!0,this.rcvr.programGuideFinal("number"==typeof t?this.instance[t].params.multicastAddress:null),e=0;e<this.instance.length;e++)i=this.instance[e],e==t||i._done||(i.maddr="",i.start())}},(window.RampVersion||(window.RampVersion={}))["iptools.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(){var t,i=this;if(i.IPTools||(i.IPTools={}),!(t=i.IPTools).ipaddr){var r=t.ipaddr={};r.matchCIDR=function(t,e,i,r){var s,n;if(t.length!==e.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(s=0;r>0;){if((n=i-r)<0&&(n=0),t[s]>>n!=e[s]>>n)return!1;r-=i,s+=1}return!0},r.subnetMatch=function(t,e,i){var r,s,n,a,o;for(r in null==i&&(i="unicast"),e)for(!(s=e[r])[0]||s[0]instanceof Array||(s=[s]),a=0,o=s.length;a<o;a++)if(n=s[a],t.match(n))return r;return i},r.IPv4=function(t){var e,i,r;if(4!==t.length)throw new Error("ipaddr: ipv4 octet count should be 4");for(i=0,r=t.length;i<r;i++)if(!(0<=(e=t[i])&&e<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=t},r.IPv4.prototype={kind:function(){return"ipv4"},toString:function(){return this.octets.join(".")},toByteArray:function(){return this.octets.slice(0)},match:function(t,e){var r;if(void 0===e&&(t=(r=t)[0],e=r[1]),"ipv4"!==t.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return i.IPTools.ipaddr.matchCIDR(this.octets,t.octets,8,e)},range:function(){return i.IPTools.ipaddr.subnetMatch(this,i.IPTools.ipaddr.IPv4.SpecialRanges)},toIPv4MappedAddress:function(){return i.IPTools.ipaddr.IPv6.parse("::ffff:"+this.toString())},prefixLengthFromSubnetMask:function(){var t,e,i,r,s,n,a;for(n={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},t=0,r=!1,e=a=3;a>=0;e=a+=-1){if(!((i=this.octets[e])in n))return null;if(s=n[i],r&&0!==s)return null;8!==s&&(r=!0),t+=s}return 32-t}},r.IPv4.SpecialRanges={unspecified:[[new r.IPv4([0,0,0,0]),8]],broadcast:[[new r.IPv4([255,255,255,255]),32]],multicast:[[new r.IPv4([224,0,0,0]),4]],linkLocal:[[new r.IPv4([169,254,0,0]),16]],loopback:[[new r.IPv4([127,0,0,0]),8]],private:[[new r.IPv4([10,0,0,0]),8],[new r.IPv4([172,16,0,0]),12],[new r.IPv4([192,168,0,0]),16]],reserved:[[new r.IPv4([192,0,0,0]),24],[new r.IPv4([192,0,2,0]),24],[new r.IPv4([192,88,99,0]),24],[new r.IPv4([198,51,100,0]),24],[new r.IPv4([203,0,113,0]),24],[new r.IPv4([240,0,0,0]),4]]},r.IPv4.Part="(0?\\d+|0x[a-f0-9]+)",r.IPv4.Regexes={fourOctet:new RegExp("^"+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"$","i"),longValue:new RegExp("^"+r.IPv4.Part+"$","i")},r.IPv4.parser=function(t){var e,r,s,n,a;if(r=function(t){return"0"===t[0]&&"x"!==t[1]?parseInt(t,8):parseInt(t)},e=t.match(i.IPTools.ipaddr.IPv4.Regexes.fourOctet))return function(){var t,i,n,a;for(a=[],t=0,i=(n=e.slice(1,6)).length;t<i;t++)s=n[t],a.push(r(s));return a}();if(e=t.match(i.IPTools.ipaddr.IPv4.Regexes.longValue)){if((a=r(e[1]))>4294967295||a<0)throw new Error("ipaddr: address outside defined range");return function(){var t,e;for(e=[],n=t=0;t<=24;n=t+=8)e.push(a>>n&255);return e}().reverse()}return null},r.IPv6=function(t){var e,i,r,s,n,a;if(16===t.length)for(this.parts=[],e=r=0;r<=14;e=r+=2)this.parts.push(t[e]<<8|t[e+1]);else{if(8!==t.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=t}for(s=0,n=(a=this.parts).length;s<n;s++)if(!(0<=(i=a[s])&&i<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits")},r.IPv6.prototype={kind:function(){return"ipv6"},toString:function(){var t,e,i,r,s,n,a;for(s=function(){var t,i,r,s;for(s=[],t=0,i=(r=this.parts).length;t<i;t++)e=r[t],s.push(e.toString(16));return s}.call(this),t=[],i=function(e){return t.push(e)},r=0,n=0,a=s.length;n<a;n++)switch(e=s[n],r){case 0:i("0"===e?"":e),r=1;break;case 1:"0"===e?r=2:i(e);break;case 2:"0"!==e&&(i(""),i(e),r=3);break;case 3:i(e)}return 2===r&&(i(""),i("")),t.join(":")},toByteArray:function(){var t,e,i,r,s;for(t=[],i=0,r=(s=this.parts).length;i<r;i++)e=s[i],t.push(e>>8),t.push(255&e);return t},toNormalizedString:function(){var t;return function(){var e,i,r,s;for(s=[],e=0,i=(r=this.parts).length;e<i;e++)t=r[e],s.push(t.toString(16));return s}.call(this).join(":")},match:function(t,e){var r;if(void 0===e&&(t=(r=t)[0],e=r[1]),"ipv6"!==t.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return i.IPTools.ipaddr.matchCIDR(this.parts,t.parts,16,e)},range:function(){return i.IPTools.ipaddr.subnetMatch(this,i.IPTools.ipaddr.IPv6.SpecialRanges)},isIPv4MappedAddress:function(){return"ipv4Mapped"===this.range()},toIPv4Address:function(){var t,e,r;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return t=(r=this.parts.slice(-2))[0],e=r[1],new i.IPTools.ipaddr.IPv4([t>>8,255&t,e>>8,255&e])}},r.IPv6.SpecialRanges={unspecified:[new r.IPv6([0,0,0,0,0,0,0,0]),128],linkLocal:[new r.IPv6([65152,0,0,0,0,0,0,0]),10],multicast:[new r.IPv6([65280,0,0,0,0,0,0,0]),8],loopback:[new r.IPv6([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new r.IPv6([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new r.IPv6([0,0,0,0,0,65535,0,0]),96],rfc6145:[new r.IPv6([0,0,0,0,65535,0,0,0]),96],rfc6052:[new r.IPv6([100,65435,0,0,0,0,0,0]),96],"6to4":[new r.IPv6([8194,0,0,0,0,0,0,0]),16],teredo:[new r.IPv6([8193,0,0,0,0,0,0,0]),32],reserved:[[new r.IPv6([8193,3512,0,0,0,0,0,0]),32]]},r.IPv6.Part="(?:[0-9a-f]+::?)+",r.IPv6.Regexes={native:new RegExp("^(::)?("+r.IPv6.Part+")?([0-9a-f]+)?(::)?$","i"),transitional:new RegExp("^((?:"+r.IPv6.Part+")|(?:::)(?:"+r.IPv6.Part+")?)"+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"$","i")},r.IPv6.parser=function(t){var e,r,s,n,a,o;if(t.match(i.IPTools.ipaddr.IPv6.Regexes.native))return i.IPTools.ipaddr.expandIPv6(t,8);if((e=t.match(i.IPTools.ipaddr.IPv6.Regexes.transitional))&&(n=i.IPTools.ipaddr.expandIPv6(e[1].slice(0,-1),6))){for(a=0,o=(s=[parseInt(e[2]),parseInt(e[3]),parseInt(e[4]),parseInt(e[5])]).length;a<o;a++)if(!(0<=(r=s[a])&&r<=255))return null;return n.push(s[0]<<8|s[1]),n.push(s[2]<<8|s[3]),n}return null},r.expandIPv6=function(t,e){var i,r,s,n,a;if(t.indexOf("::")!==t.lastIndexOf("::"))return null;for(i=0,r=-1;(r=t.indexOf(":",r+1))>=0;)i++;if("::"===t.substr(0,2)&&i--,"::"===t.substr(-2,2)&&i--,i>e)return null;for(a=e-i,n=":";a--;)n+="0:";return":"===(t=t.replace("::",n))[0]&&(t=t.slice(1)),":"===t[t.length-1]&&(t=t.slice(0,-1)),function(){var e,i,r,n;for(n=[],e=0,i=(r=t.split(":")).length;e<i;e++)s=r[e],n.push(parseInt(s,16));return n}()},r.IPv4.isIPv4=r.IPv6.isIPv6=function(t){return null!==this.parser(t)},r.IPv4.isValid=function(t){try{return new this(this.parser(t)),!0}catch(t){return!1}},r.IPv4.isValidFourPartDecimal=function(t){return!(!i.IPTools.ipaddr.IPv4.isValid(t)||!t.match(/^\d+(\.\d+){3}$/))},r.IPv6.isValid=function(t){if("string"==typeof t&&-1===t.indexOf(":"))return!1;try{return new this(this.parser(t)),!0}catch(t){return!1}},r.IPv4.parse=r.IPv6.parse=function(t){var e;if(null===(e=this.parser(t)))throw new Error("ipaddr: string is not formatted like ip address");return new this(e)},r.IPv4.parseCIDR=function(t){var e,i;if((i=t.match(/^(.+)\/(\d+)$/))&&(e=parseInt(i[2]))>=0&&e<=32)return[this.parse(i[1]),e];throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},r.IPv6.parseCIDR=function(t){var e,i;if((i=t.match(/^(.+)\/(\d+)$/))&&(e=parseInt(i[2]))>=0&&e<=128)return[this.parse(i[1]),e];throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},r.isValid=function(t){return i.IPTools.ipaddr.IPv6.isValid(t)||i.IPTools.ipaddr.IPv4.isValid(t)},r.parse=function(t){if(i.IPTools.ipaddr.IPv6.isValid(t))return i.IPTools.ipaddr.IPv6.parse(t);if(i.IPTools.ipaddr.IPv4.isValid(t))return i.IPTools.ipaddr.IPv4.parse(t);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},r.parseCIDR=function(t){try{return i.IPTools.ipaddr.IPv6.parseCIDR(t)}catch(e){try{return i.IPTools.ipaddr.IPv4.parseCIDR(t)}catch(t){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},r.fromByteArray=function(t){var e;if(4===(e=t.length))return new i.IPTools.ipaddr.IPv4(t);if(16===e)return new i.IPTools.ipaddr.IPv6(t);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},r.process=function(t){var e;return"ipv6"===(e=this.parse(t)).kind()&&e.isIPv4MappedAddress()?e.toIPv4Address():e}}if(!t.ip6){var s=t.ip6={};s.normalize=function(t){if(!this._validate(t))return!1;var e=t.split(/\:\:/g);if(e.length>2)return!1;var i=[];if(1==e.length){if(8!==(i=t.split(/\:/g)).length)return!1}else if(2==e.length){var r=e[0],s=e[1],n=r.split(/\:/g),a=s.split(/\:/g);for(var o in n)i[o]=n[o];for(o=a.length;o>0;--o)i[7-(a.length-o)]=a[o-1]}for(o=0;o<8;++o)void 0===i[o]&&(i[o]="0000"),i[o].length<4&&(i[o]="0000".substring(0,4-i[o].length)+i[o]);return i.join(":")},s.abbreviate=function(t){if(!this._validate(t))return!1;for(var e=(t=(t=(t=(t=(t=(t=s.normalize(t)).replace(/0000/g,"g")).replace(/\:000/g,":")).replace(/\:00/g,":")).replace(/\:0/g,":")).replace(/g/g,"0")).split(/\:/g),i=!1,r=-1,n=0,a=-1,o=0,h=0;h<8;++h){var c=e[h],l="0"===c;l&&!i&&(a=h),!l&&i&&(o=h-a),o>1&&o>n&&(r=a,n=o),i="0"===c}return i&&(o=8-a),o>1&&o>n&&(r=a,n=o),r>=0&&n>1&&e.splice(r,n,"g"),(t=(t=(t=(t=e.join(":")).replace(/\:g\:/g,"::")).replace(/\:g/g,"::")).replace(/g\:/g,"::")).replace(/g/g,"::")},s._validate=function(t){return/^[a-f0-9\\:]+$/gi.test(t)}}if(!t.ipValidator){var n=t.ipValidator={};n.ipaddr=t.ipaddr,n.ip6=t.ip6,n.isIP=function(t){return this.ipaddr.isValid(t)},n.isRange=function(t){try{return this.ipaddr.parseCIDR(t),!0}catch(t){return!1}},n.ver=function(t){try{var e=this.ipaddr.parse(t).kind();return"ipv4"==e?4:"ipv6"==e?6:0}catch(t){return 0}},n.isV4=function(t){return 4==this.ver(t)},n.isV6=function(t){return 6==this.ver(t)},n.storeIP=function(t){try{var e=this.ipaddr.parse(t),i=e.kind();return"ipv4"==i?t:"ipv6"==i?e.isIPv4MappedAddress()?e.toIPv4Address().toString():this.ip6.abbreviate(t):null}catch(t){return null}},n.displayIP=function(t){try{var e=this.ipaddr.parse(t),i=e.kind();return"ipv4"==i?t:"ipv6"==i?e.isIPv4MappedAddress()?e.toIPv4Address().toString():this.ip6.normalize(t):""}catch(t){return""}},n.inRange=function(t,i){if("string"!=typeof i){if(i&&"object"===e(i)){for(var r in i)if(!0===this.inRange(t,i[r]))return!0;return!1}return!1}if(-1===i.indexOf("/"))return t=this.isV6(t)?this.ip6.normalize(t):t,i=this.isV6(i)?this.ip6.normalize(i):i,this.isIP(i)&&t===i;try{var s=i.split("/"),n=this.ipaddr.parse(t),a=this.ipaddr.parse(s[0]);return n.match(a,s[1])}catch(t){return!1}},n.InRange=n.inRange,t.range_check={isIP:n.isIP.bind(n),isV4:n.isV4.bind(n),isV6:n.isV6.bind(n),storeIP:n.storeIP.bind(n),displayIP:n.displayIP.bind(n),isRange:n.isRange.bind(n),inRange:n.inRange.bind(n),ver:n.ver.bind(n)},t.range_check.validIp=t.range_check.vaildIp=t.range_check.valid_ip=t.range_check.vaild_ip=t.range_check.isIP,t.range_check.searchIP=t.range_check.storeIP,t.range_check.valid_range=t.range_check.validRange=t.range_check.isRange,t.range_check.in_range=t.range_check.inRange}}.call(this),(window.RampVersion||(window.RampVersion={}))["omnicache.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(){var t=this;"XPromise"in t||(t.XPromise=function(t){this.resolve=function(t){this.done||(this.done=!0,this.stateObj=t,this.stateCall="resolve",this.state="fulfilled"),"resolve"==this.stateCall&&this.emptyList()},this.reject=function(t){this.done||(this.done=!0,this.stateObj=t,this.stateCall="reject",this.state="rejected"),"reject"==this.stateCall&&this.emptyList()},this.emptyList=function(){var t,e,i=this[this.stateCall+"List"];if(i)for(t=i.length-1;t>=0;t--)(e=i.shift())&&"function"==typeof e&&e(this.stateObj)},this.then=function(t,e){return t&&this.resolveList.push(t),e&&this.rejectList.push(e),"pending"!=this.state&&this[this.stateCall](this.stateObj),this},this.state="pending",this.stateObj=null,this.stateCall=null,this.done=!1,this.resolveList=[],this.rejectList=[],t&&"function"==typeof t&&t(this.resolve.bind(this),this.reject.bind(this))}),"QManager"in t||(t.QManager=function(t,i,r,s){this.callback=t,this.method=i,this.match="boolean"!=typeof r||r,"function"==typeof s?(this.verbose=!0,this.logger=s):(this.verbose=s,this.logger=console.log.bind(console)),this.queue=[],this.push=function(t){this.queue.push(t)},this.pop=function(){return this.queue.pop()},this.matchObject=function(t,i){var r,s=!1,n=e(t);if(n==e(i))if("object"==n&&null!=t){for(r in s=!0,t)if(!this.matchObject(t[r],i[r])){s=!1;break}}else t==i&&(s=!0);return s},this.flush=function(){var t,e;if(this.queue.length){if(this.method)return e=1==this.method?0:this.queue.length-1,t=this.queue.splice(e,1),this.verbose&&this.logger("QM callback",t),this.callback(t),void(this.queue=[]);for(;t=this.queue.shift();)if(this.verbose&&this.logger("QM callback",t),this.callback(t),this.qflag)for(e=this.queue.length-1;e>=0;e--)this.matchObject(t,this.queue[e])&&(this.verbose&&this.logger("QM removing duplicate",this.queue[e]),this.queue.splice(e,1))}},this.empty=function(){this.verbose&&this.logger("QM empty"),this.queue.length&&(this.queue=[])}})}.call(this),function(t){var e=t.OmniCacheInterface=function(e){var i=e||{};this.re4cache=new RegExp("^https?://[^/]+/http(?:https|s)?/"),this.resp=null,this.done=!1,this.ipRangeStr="",this.uriStr="",this.filter=i.filter||[],this.qmethod=i.qmethod,this.qflag=i.qflag,this.q=new t.QManager(this.rewrite.bind(this),this.qmethod,this.qflag,i.verbose),this.onSuccess=i.onSuccess,this.onFailure=i.onFailure,this.onDone=i.onDone,this.directMod=!0,this.setParams(i)};e.Callbacks={onSuccess:!0,onFailure:!0,onDone:!0},e.Defaults={uri:"",ipRange:"",ipExclude:!0,verbose:!1,src:function(){},timeoutMs:2e3},e.prototype={setParams:function(t){var i,r=t||{},s=0,n=!this.ipRange;for(i in(n||"ipRange"in r&&r.ipRange!==this.ipRangeStr)&&("string"==typeof r.ipRange&&r.ipRange!=e.Defaults.ipRange?(this.ipRangeStr=r.ipRange,this.ipRange=r.ipRange.split(",")):(this.ipRangeStr=e.Defaults.ipRange,this.ipRange=[]),s++),(n||"ipExclude"in r&&r.ipExclude!==this.ipExclude)&&(this.ipExclude=void 0!==r.ipExclude?!!r.ipExclude:e.Defaults.ipExclude,s++),e.Callbacks)!(i in t)||"function"!=typeof t[i]&&null!==t[i]||(this[i]=t[i]);(n||"verbose"in r)&&("function"==typeof r.verbose?(this.verbose=!0,this.logger=r.verbose):(this.verbose=void 0!==r.verbose?!!r.verbose:e.Defaults.verbose,this.logger=console.log.bind(console))),(n||"timeoutMs"in r)&&(this.timeoutMs=r.timeoutMs&&isFinite(r.timeoutMs)?r.timeoutMs:e.Defaults.timeoutMs),(n||"src"in r&&r.src!==this.src)&&(this.src="function"==typeof r.src?r.src:e.Defaults.src,s++);var a=!0;return n||"uri"in r&&r.uri!==this.uriStr||r.force?r.uri&&"string"==typeof r.uri||r.force&&this.uriStr?(this.uriStr=r.uri&&"string"==typeof r.uri?r.uri:this.uriStr,this.uri=(this.uriStr.match("^(?:https?:)?//")?"":"//")+this.uriStr,this.uri=this.uri.replace(new RegExp("^//"),location.protocol+"//"),this.uri=this.uri.replace(/\/+$/,""),this.promise=this.start(),this.promise.then(this.onResolve.bind(this),this.onReject.bind(this))):(this.uri=this.uriStr=e.Defaults.uri,this.onReject()):s?this.uri?(this.promise=this.start(),this.promise.then(this.onResolve.bind(this),this.onReject.bind(this))):this.onReject():a=!1,a},start:function(){delete this.resp,this.done=!1;var e=new t.XPromise(this.xpromise.bind(this));if(this.uri){var i=new XMLHttpRequest,r=this.listener.bind(this);this.uri.indexOf("?")>=0?i.uri="&":i.uri="?",i.uri=this.uri+i.uri+"_="+(new Date).getTime();try{i.addEventListener("readystatechange",r,!1),i.addEventListener("load",r,!1),i.addEventListener("error",r,!1),i.addEventListener("abort",r,!1),i.addEventListener("timeout",r,!1),i.open("get",i.uri,!0),i.setRequestHeader("Accept","application/json"),i.timeout=this.timeoutMs,i.send(null)}catch(t){this.rejector&&this.rejector({message:"xhr failed"})}}else this.rejector&&this.rejector({message:"missing URI"});return e},listener:function(t){if(t){var e=t.target;if("readystatechange"==t.type){if(4==e.readyState){var i;try{i=JSON.parse(e.response)}catch(t){}this.resp=i||{}}}else{var r={status:e.status,resp:this.resp,uri:this.uri};switch(this.done=!0,this.logger("----\x3e OCI listener: "+t.type),t.type){case"load":this.resp&&this.resp.Ip?this.ipIsAllowed(this.resp.Ip)?(r.message="success",this.resolver(r)):(r.message="IP is not in range.",this.rejector(r)):(r.message="failure",this.rejector(r));break;case"error":case"abort":r.message="failure",this.rejector(r);break;case"timeout":r.message="timeout",r.timeout=!0,this.rejector(r)}}}},ipIsAllowed:function(t){var e,i=this.ipExclude,r="IPTools"in window&&window.IPTools.ipValidator,s=0==this.ipRange.length,n=s||(r||{inRange:function(){return!i}}).inRange(t,this.ipRange)^this.ipExclude,a=n^this.ipExclude;return this.verbose&&(e=r?s?"No IP Range":(a?"in":"not in")+" supplied IP "+(this.ipExclude?"exclusion":"inclusion")+" Range":"Missing IPTools",this.logger("OCI: Client IP "+t+" "+(n?"accepted":"rejected")+" - "+e,this.ipRange,this.ipExclude)),n},xpromise:function(t,e){this.resolver=t,this.rejector=e},onResolve:function(t){this.done=!0,this.onSuccess&&this.onSuccess(this,t),this.onDone&&this.onDone(this,t),this.verbose&&this.logger("OCI onResolve"),this.q.flush()},onReject:function(t){this.done=!0,this.uri=null,t&&(t.uri=null),this.onFailure&&this.onFailure(this,t),this.onDone&&this.onDone(this,t),this.verbose&&this.logger("OCI onReject"),this.q.flush()},isCacheable:function(t){var e=!1;if(t)if(this.filter.length>0){var i,r=2;for(r=2;r>0;r--){for(i=this.filter.length-1;!e&&i>=0;i--)e=null!=t.match(this.filter[i]+"$");if(e||2!=r)r=0;else{var s=t.match(/([^\?#]*)\/([^\/\?#]+)/);s&&(t=s[2])||(r=0)}}}else e=!0;return e},isCached:function(t){return t&&t.match(this.re4cache)},rewrite:function(t,e){if(this.verbose&&this.logger("OCI rewrite",t),t){if(!this.done)return this.verbose&&this.logger("... queued"),void this.q.push(t);var i,r,s,n;"string"==typeof t?(s=2,r=[{src:t}]):t instanceof Array?(s=0,r=t):(s=1,r=[t]),new RegExp("^//");var a,o=new RegExp("^(?:(https?):)?(//)?"),h=!1,c=!1;for(i=0;i<r.length;i++)c=this.isCacheable(r[i].src),a=!1,h=this.isCached(r[i].src),this.uri&&c&&!h?(this.verbose&&this.logger("OmniCache src was: "+r[i].src),a=!0,n=(n=r[i].src.match(o))[1]?"/"+n[1]+"/":"/httphttps/",r[i].src=r[i].src.replace(o,this.uri+n)):this.verbose&&this.logger("OmniCache:"+(this.uri?(c?"":" not")+" cacheable"+(h?"":" not")+" cached":"no uri")),this.verbose&&(a?this.logger(".... updated to OmniCache: "+r[i].src):this.logger(".... unchanged: "+(r[i].src||"undefined"))),r[i].callback&&r[i].callback(r[i]);var l=s?1==s?r[0]:r[0].src:r;return this.src&&this.src(l),e&&l}}}}(this),(window.RampVersion||(window.RampVersion={}))["rcvrInterface.js"]="$Id$ $Change$ $Revision$ $DateTime$",this.queryToObject||(this.queryToObject=function(t,i,r){var s=r||{};if(!t||""==t)return s;var n,a,o,h,c=t.split("&");for(a=0;a<c.length;a++)h=o=c[a].indexOf("="),o+1||(o=c[a].length),n=[decodeURIComponent(c[a].substring(0,o)),decodeURIComponent(c[a].substring(o+1))],h<0?(n[1]="!"!=n[0].charAt(0),n[1]||(n[0]=n[0].substring(1))):"true"==n[1]?n[1]=!0:"false"==n[1]?n[1]=!1:""==n[1].replace(/^\d+$/,"")&&(n[1]=parseInt(n[1])),i&&void 0!==s[n[0]]?"object"!=e(s[n[0]])?s[n[0]]=[s[n[0]],n[1]]:s[n[0]].push(n[1]):s[n[0]]=n[1];return s});var r=function(t,e,i){this.param={},this.state=0,this.omnicache=null,this.ocReady=!1,this.ocParams={},this.setParams(t,e,i)};r.State={MC_REQUESTED:1,MC_SUCCEEDED:2,MC_GROUP:3,PG_REQUESTED:4,PG_SUCCEEDED:8,PG_GROUP:12,MC_ALL:15,FB_SUPPLIED:16,FB_APPLIED:32,FB_GROUP:48,VS_SUPPLIED:64,VS_APPLIED:128,VS_GROUP:192,OC_REQUESTED:1024,OC_SUCCEEDED:2048,OC_GROUP:3072,OF_SUPPLIED:4096,OF_APPLIED:8192,OF_GROUP:12288,OC_APPLIED:16384},r.Defaults={verbose:!1,allowFallback:!1,allowVdmsFallback:!1,vdmsServers:"",fallbackUrl:"",fallbackType:"",omnicacheFallbackUrl:"",omnicacheFallbackType:""},r.GetDefaults=function(t,s,n,a){var o={i_param:i.assign({},r.Defaults,s),r_param:i.assign({},i.Settings,i.Params,i.Options,n),o_param:i.assign({},window.OmniCacheInterface.Defaults,a)};return t&&r.GetQueryParams(o,o,"object"==e(t)?t:void 0),o},r.GetQueryParams=function(t,i,s){var n=t&&t.i_param?t:{};n.i_param||(n.i_param={}),n.r_param||(n.r_param={}),n.o_param||(n.o_param={});var a,o,h,c=i||r.GetDefaults(!1),l=s||window.queryToObject(location.search.substr(1),!1);for(a in l)(o=a.match(/^([iro]_)/))?(h=a.substring(2),o=o[1]):h=a,o&&"i_"!=o||!(h in c.i_param)||e(l[a])!=e(c.i_param[h])?o&&"r_"!=o||!(h in c.r_param)||e(l[a])!=e(c.r_param[h])?"maddr"==h||"multicastAddress"==h&&0===l[a]?n.r_param[h]=""+l[a]:("streamKey"==h&&!0===l[a]&&(n.r_param[h]=l[a]),o&&"o_"!=o||!(h in c.o_param)||e(l[a])!=e(c.o_param[h])||(n.o_param[h]=l[a])):n.r_param[h]=l[a]:n.i_param[h]=l[a];return n},r.prototype={setParams:function(t,e,s){var n,a=void 0===this.verbose,o=t||{};(a||void 0!==o.verbose&&o.verbose!==this.verbose)&&("function"==typeof o.verbose?(this.verbose=!0,this.logger=o.verbose):(this.verbose=!!o.verbose,this.logger=console.log.bind(console))),(a||"function"==typeof o.onDone&&o.onDone!==this.onDone)&&(this.onDone=o.onDone);var h=["allowFallback","allowVdmsFallback"],c=["fallbackUrl","fallbackType","vdmsServers","omnicacheFallbackUrl","omnicacheFallbackType"];for(n=h.length-1;n>=0;n--)(a||h[n]in o)&&(this[h[n]]=void 0!==o[h[n]]?!!o[h[n]]:r.Defaults[h[n]]);for(n=c.length-1;n>=0;n--)(a||c[n]in o&&o[c[n]]!=this[c[n]])&&(this[c[n]]=void 0!==o[c[n]]?o[c[n]]:r.Defaults[c[n]]);var l=this.allowFallback&&this.fallbackUrl?r.State.FB_SUPPLIED:0;this.state=this.state&~r.State.FB_GROUP|l,this.vdmsServers&&("string"==typeof this.vdmsServers&&(this.vdmsServers=this.vdmsServers.split(","),this.allowVdmsFallback=!0),Array.isArray(this.vdmsServers)&&0!=this.vdmsServers.length||(this.vdmsServers=null,this.allowVdmsFallback=!1)),l=this.allowVdmsFallback&&this.vdmsServers?r.State.VS_SUPPLIED:0,this.state=this.state&~r.State.VS_GROUP|l,l=this.allowFallback&&this.omnicacheFallbackUrl?r.State.OF_SUPPLIED:0,this.state=this.state&~r.State.OF_GROUP|l,i.assign(this.param,e),"function"!=typeof e.onDone&&null!==e.onDone||(this.onRcvrDone=e.onDone),this.param.onDone=this.onDoneIntercept.bind(this),"function"!=typeof e.onReady&&null!==e.onReady||(this.onRcvrReady=e.onReady),this.param.onReady=this.onReadyIntercept.bind(this),"function"!=typeof e.onPGReady&&null!==e.onPGReady||(this.onRcvrPGReady=e.onPGReady),this.param.onPGReady=this.onPGReadyIntercept.bind(this),"function"!=typeof e.onStateChange&&null!==e.onStateChange||(this.onRcvrStateChange=e.onStateChange),this.param.onStateChange=this.onStateChangeIntercept.bind(this),l="-1"==(l=0===this.param.maddr?"0":this.param.maddr||this.param.multicastAddress||"-1")?0:"0"==l?r.State.PG_REQUESTED:r.State.MC_REQUESTED,this.state=this.state&~r.State.MC_ALL|l,this.setOmniCache(s)},statusUpdate:function(t){this.rcvr&&this.rcvr.statusUpdate(t)},fullStatus:function(t,e,i){this.rcvr?this.rcvr.fullStatus(t,e,i):(i&&i(),t&&t())},init:function(){this.rcvr?this.rcvr.setParams(this.param,!0)||this.rcvr.start():this.rcvr=new i(this.param)},setOmniCache:function(t){var e=!1;i.assign(this.ocParams,t);var s=this.ocParams.uri?r.State.OC_REQUESTED:0;return this.state=this.state&~r.State.OC_GROUP|s,this.state=this.state&~r.State.OC_APPLIED,this.ocParams.onDone=this.omnicacheListener.bind(this),this.omnicache?this.omnicache.setParams(this.ocParams)?e=!0:this.init():this.ocParams.uri&&"OmniCacheInterface"in window?(this.omnicache=new window.OmniCacheInterface(this.ocParams),e=!0):this.omnicacheListener(),e},omnicacheListener:function(t){this.ocReady=!(!t||!t.uri),this.ocReady&&(this.state|=r.State.OC_SUCCEEDED),this.init()},onDoneIntercept:function(t,e){this.rcvr||(this.rcvr=t),e.state<5&&!(this.state&r.State.MC_REQUESTED)&&(this.state|=r.State.MC_REQUESTED),this.onRcvrDone&&this.onRcvrDone(t,e),"fail"!=e.action&&("guide"!=e.action||"config"!=e.reason&&"receiver"!=e.reason)||!this.allowFallback?(this.obj=e,this.onDone&&this.onDone(this,e)):this.fallbackProtocol(this.allowFallback,this.allowVdmsFallback)},onReadyIntercept:function(t,e,i){this.state|=r.State.MC_SUCCEEDED|r.State.MC_REQUESTED,this.onRcvrReady&&this.onRcvrReady(t,e,i)},onPGReadyIntercept:function(t,e){"success"!=e.reason&&"empty"!=e.reason||(this.state|=r.State.PG_SUCCEEDED),this.onRcvrPGReady&&this.onRcvrPGReady(t,e)},onStateChangeIntercept:function(t,e){this.rcvr||(this.rcvr=t),this.onRcvrStateChange&&this.onRcvrStateChange(t,e)},fallbackProtocol:function(t,e){if(t){var i={state:6,action:"fallback",reason:void 0,url:void 0,type:void 0};if(this.ocReady&&this.omnicacheFallbackUrl)i.url=this.omnicacheFallbackUrl,i.type=this.omnicacheFallbackType,i.reason="omnicache",this.state|=r.State.OF_APPLIED;else{if(e&&this.vdmsServers&&this.attemptVdmsFallback())return void(i.reason="vdms");i.url=this.fallbackUrl,i.type=this.fallbackType,i.reason="direct",this.state|=r.State.FB_APPLIED}this.ocReady&&i.url&&(this.state|=r.State.OC_APPLIED,i.url=this.omnicache.rewrite(i.url,!0)),this.obj=i,this.onRcvrStateChange&&this.onRcvrStateChange(this,i),i.url&&this.onRcvrReady&&this.onRcvrReady(this,i.url,i.type),this.onDone&&this.onDone(this,i)}},attemptVdmsFallback:function(){var t=!1;if(Array.isArray(this.vdmsServers)&&this.vdmsServers.length){var e=this.vdmsServers[Math.floor(Math.random()*this.vdmsServers.length)].replace(/[\/]*$/,"/rest/services/getunicast?multicastAddress="+this.params.multicastAddress),i=new XMLHttpRequest;i.addEventListener("readystatechange",this.attemptVdmsListener.bind(this),!1),i.open("get",e,!0),i.send(null),t=!0}return t},attemptVdmsListener:function(t){var e,i=t.target;if(4==i.readyState&&200==i.status){try{"string"==typeof(e=JSON.parse(i.response))&&(e=JSON.parse(e))}catch(t){}if(e&&e.sourceUri){this.state|=r.State.VS_APPLIED,this.vdmsFallbackUrl=e.sourceUri,this.ocReady&&(this.state|=r.State.OC_APPLIED,e.sourceUri=this.omnicache.rewrite(e.sourceUri,!0));var s={state:6,action:"fallback",reason:"vdms",url:e.sourceUri,resp:e,type:e.sourceFormat};this.onRcvrStateChange&&this.onRcvrStateChange(this,s),this.onRcvrReady&&this.onRcvrReady(this,e.sourceUri,e.sourceFormat),this.onDone&&this.onDone(this,s)}else this.fallbackProtocol(!0,!1)}},interpretResponse:function(t){var e;return t&&t.state>=0&&(e=t.state<i.states.length?this.rcvr.interpretResponse(t):(e=r.states[t.state-i.states.length])[t.action]&&e[t.action][t.reason.replace(/ .*/,"")]||""),e},interpretState:function(t){var e="",i=r.State;return t||(t=this.rcvr.obj),this.state&i.MC_REQUESTED?e+="Multicast was requested for "+this.rcvr.params.multicastAddress+".\nMulticast "+(this.state&i.MC_SUCCEEDED?"succeeded.\n":"failed ("+t.reason+").\n"):e+="Multicast was not requested.\n",this.state&i.PG_REQUESTED?e+="Program Guide was requested.\nProgram Guide "+(this.state&i.PG_SUCCEEDED?"empty"==t.reason?"is empty\n":"succeeded.\n":"failed ("+t.reason+").\n"):e+="Program Guide was not requested.\n",this.state&i.FB_SUPPLIED?(e+="Fallback was allowed and supplied. ("+this.fallbackUrl+").\n",this.state&i.FB_APPLIED?e+="Fallback was applied as source"+(this.state&i.OC_APPLIED?" via OmniCache":"")+".\n":e+="Fallback was not applied as source.\n"):e+="Fallback was "+(this.allowFallback?"allowed but not supplied":"not allowed")+".\n",this.state&i.VS_SUPPLIED?(e+="VDMS fallback was allowed and supplied ("+this.vdmsFallbackUrl+").\n",this.state&i.VS_APPLIED?e+="VDMS fallback was applied as source"+(this.state&i.OC_APPLIED?" via OmniCache":"")+".\n":e+="VDMS fallback was not applied as source.\n"):e+="VDMS fallback was "+(this.allowVdmsFallback?"allowed but not supplied":"not allowed")+".\n",this.state&i.OC_REQUESTED?e+="OmniCache was requested ("+this.ocParams.uri+").\nOmniCache was "+(this.state&i.OC_SUCCEEDED?"detected":"not detected")+".\n":e+="OmniCache was not requested.\n",this.state&i.OF_SUPPLIED?(e+="OmniCache-specific Fallback was allowed and supplied. ("+this.omnicacheFallbackUrl+")\n",this.state&i.OF_APPLIED?e+="OmniCache-specific Fallback was applied as source"+(this.state&i.OC_APPLIED?" via OmniCache":"")+".\n":e+="OmniCache-specific Fallback was not applied as source.\n"):e+="OmniCache-specific Fallback was "+(this.allowFallback?"allowed but not supplied":"not allowed")+".\n",e}},r.states=[{core:"fallback",fallback:{vdms:"using Altimeter-configured fallback source",direct:"using directly-configured fallback source",omnicache:"using OmniCache-specific fallback source"}}],t.exports={RcvrInterface:r,Receiver:i,OmniCacheInterface:OmniCacheInterface}}).call(window)}}]);